customElements.get("product-model")||customElements.define("product-model",class extends HTMLElement{constructor(){super();const e=this.querySelector(".product-single__media-model-button"),o=this.parentNode.querySelector(".product-single__media-xr-close");this.slider=document.querySelector("#Product-Slider"),e.addEventListener("click",this.loadContent.bind(this)),o.addEventListener("click",this.unloadContent.bind(this))}loadContent(){if(!this.getAttribute("loaded")){const e=document.createElement("div");e.appendChild(this.querySelector("template").content.firstElementChild.cloneNode(!0)),this.setAttribute("loaded",!0),this.appendChild(e.querySelector("video, model-viewer, iframe")).focus()}Shopify.loadFeatures([{name:"model-viewer-ui",version:"1.0",onLoad:this.setupModelViewerUI.bind(this)}]),this.slider.setDraggable(!1)}unloadContent(){this.querySelector("video, model-viewer, iframe").remove(),this.removeAttribute("loaded"),this.slider.setDraggable(!0)}setupModelViewerUI(e){e||(this.modelViewerUI=new Shopify.ModelViewerUI(this.querySelector("model-viewer")))}});window.ProductModel={loadShopifyXR(){Shopify.loadFeatures([{name:"shopify-xr",version:"1.0",onLoad:this.setupShopifyXR.bind(this)}])},setupShopifyXR(t){if(!t){if(!window.ShopifyXR){document.addEventListener("shopify_xr_initialized",()=>this.setupShopifyXR());return}document.querySelectorAll('[id^="ProductJSON-"]').forEach(e=>{window.ShopifyXR.addModels(JSON.parse(e.textContent)),e.remove()}),window.ShopifyXR.setupXRElements()}}};window.addEventListener("DOMContentLoaded",()=>{window.ProductModel&&window.ProductModel.loadShopifyXR()});
//# sourceMappingURL=components--product-model.js.map
