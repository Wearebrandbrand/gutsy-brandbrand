if(!customElements.get("google-map")){class i extends HTMLElement{constructor(){super(),this.container=this.querySelector(".google-map--map");const e=this.container.dataset;this.mapZoom=parseInt(e.mapZoom,10),this.mapStyle=e.mapStyle,this.mapType=e.mapType,this.panControl=e.panControl,this.zoomControl=e.zoomControl,this.mapTypeControl=e.maptypeControl||!1,this.scaleControl=e.scaleControl||!1,this.streetViewControl=e.streetviewControl||!1,this.locations=this.querySelectorAll(".thb-location"),this.select=this.querySelector(".google-map--select"),this.locationInformations=this.querySelectorAll(".google-map--location-data"),this.index=0,this.map=null,this.bounds=new google.maps.LatLngBounds}connectedCallback(){window.google&&(this.renderMap(),this.addEventListeners(),window.dispatchEvent(new Event("resize")))}addEventListeners(){window.addEventListener("resize",this.mapResize.bind(this)),google.maps.event.addListenerOnce(this.map,"tilesloaded",this.onTilesLoaded.bind(this)),this.select.addEventListener("change",this.onSelectChange.bind(this))}onTilesLoaded(){this.mapZoom>0?this.map.setZoom(this.mapZoom):this.map.fitBounds(this.bounds),this.scrollToPin(this.index)}onSelectChange(){const e=this.select.value;this.index=this.select.selectedIndex,this.locationInformations.forEach(l=>l.classList.remove("google-map--location-data-active")),this.querySelector(e).classList.add("google-map--location-data-active"),this.scrollToPin(this.index)}getMapOptions(){const e={zoom:this.mapZoom,draggable:!("ontouchend"in document),scrollwheel:!1,panControl:this.panControl,zoomControl:this.zoomControl,mapTypeControl:this.mapTypeControl,scaleControl:this.scaleControl,streetViewControl:this.streetViewControl,fullscreenControl:!1,mapTypeId:this.mapType,gestureHandling:"cooperative"},l={retro:[{elementType:"geometry",stylers:[{color:"#ebe3cd"}]},{elementType:"labels.text.fill",stylers:[{color:"#523735"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f1e6"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#c9b2a6"}]},{featureType:"administrative.land_parcel",elementType:"geometry.stroke",stylers:[{color:"#dcd2be"}]},{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#ae9e90"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#93817c"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#a5b076"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#447530"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#f5f1e6"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fdfcf8"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#f8c967"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#e9bc62"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#e98d58"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#db8555"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#806b63"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"transit.line",elementType:"labels.text.fill",stylers:[{color:"#8f7d77"}]},{featureType:"transit.line",elementType:"labels.text.stroke",stylers:[{color:"#ebe3cd"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#b9d3c2"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#92998d"}]}],night:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}]};return l[this.mapStyle]&&(e.styles=l[this.mapStyle]),e}renderMap(){const e=this.getMapOptions();this.map=new google.maps.Map(this.container,e),this.locations.forEach((l,t)=>{this.renderMarker(t,l),l.dataset.rendered="true"})}mapResize(){setTimeout(()=>{this.scrollToPin(this.index)},50)}renderMarker(e,l){const t=JSON.parse(l.dataset.option),s=new google.maps.LatLng(t.latitude,t.longitude);l.dataset.latlng=s,this.bounds.extend(s);const a=new Image;a.src=t.marker_image,a.addEventListener("load",()=>{this.setMarker(e,s,t)})}setMarker(e,l,t){const s=t.retina_marker&&!t.rendered?[t.marker_size[0]/2,t.marker_size[1]/2]:t.marker_size;class a extends google.maps.OverlayView{constructor(o,r){super(),this.latlng=o,this.setMap(r)}draw(){this.div_||(this.div_=document.createElement("div"),this.div_.classList.add("thb-pin"),this.div_.innerHTML=`
							<div class="pulse"></div>
							<div class="shadow"></div>
							<div class="pin-wrap"><img src="${t.marker_image}" width="${s[0]}" height="${s[1]}" /></div>`,this.div_.style.position="absolute",this.div_.style.cursor="pointer",this.getPanes().overlayImage.appendChild(this.div_),this.div_.addEventListener("click",()=>{this.map.querySelectorAll(".google-map--location-data details").forEach(n=>n.removeAttribute("open")),this.map.querySelectorAll(".google-map--location-data")[e].querySelector("details").setAttribute("open","")}));const o=this.getProjection().fromLatLngToDivPixel(this.latlng);if(o){const r=(s[0]-39)/2;this.div_.style.left=`${o.x-s[0]/2}px`,this.div_.style.top=`${o.y-s[1]/2}px`,this.div_.style.width=`${s[0]}px`,this.div_.style.height=`${s[1]}px`,this.div_.querySelector(".shadow").style.marginLeft=`${r}px`,this.div_.querySelector(".pulse").style.marginLeft=`${r}px`}}getPosition(){return this.latlng}}new a(l,this.map)}scrollToPin(e){const l=this.locations[e],t=JSON.parse(l.dataset.option),s=new google.maps.LatLng(t.latitude,t.longitude);this.map.setZoom(this.mapZoom),this.map.panTo(s)}}customElements.define("google-map",i)}
//# sourceMappingURL=sections--map.js.map
