if(!customElements.get("slide-show")){class P extends HTMLElement{constructor(){super();const e=this;let f=e.closest(".shopify-section");e.dataset.dots;let s=Array.from(e.querySelectorAll(".carousel__slide")),u=e.dataset.autoplay=="false"?!1:parseInt(e.dataset.autoplay,10),o=e.dataset.align=="center"?"center":"left",r=e.dataset.fade=="true",a=e.dataset.dots=="true",n=e.querySelector(".flickity-prev"),h=e.querySelector(".flickity-next"),w=document.querySelector("theme-header"),v=e.querySelector(".flickity-custom-dots"),q=e.querySelector(".flickity-custom-navigation"),S=e.querySelector(".slideshow--autoplay-progress"),L=e.parentNode.querySelector(".flickity-progress--bar"),_=[],b=document.dir==="rtl",A=o=="left"&&b?"right":"left",p=document.body.classList.contains("animations-true")&&typeof gsap<"u",l={wrapAround:!0,cellAlign:A,pageDots:a,contain:!0,fade:r,autoPlay:u,rightToLeft:b,prevNextButtons:!1,cellSelector:".carousel__slide",on:{}};if(this.paused=!1,v&&(l.pageDots=!1),e.classList.contains("image-with-text-slideshow--content")){let i=e.parentNode.querySelector(".image-with-text-slideshow--image");l.draggable=!1,l.asNavFor=i}if(e.classList.contains("image-with-text-slideshow--image")){let i=e.querySelectorAll(".image-with-text-slideshow--image-media");i.length&&i[0].classList.contains("desktop-height-auto")&&(l.adaptiveHeight=!0)}(e.classList.contains("image-with-text-slideshow--content")||e.classList.contains("customer-reviews--content")||e.classList.contains("customer-reviews--image"))&&(l.adaptiveHeight=!0),e.classList.contains("customer-reviews--carousel")&&(l.wrapAround=!1,l.adaptiveHeight=!1,l.resize=!0,l.on.ready=function(){let i=this;i.resize(),document.fonts.ready.then(function(){i.resize()})}),e.classList.contains("collection-grid__carousel")&&(l.wrapAround=!1),e.classList.contains("main-slideshow")&&(p&&e.prepareAnimations(e,_),l.on={staticClick:function(){this.unpausePlayer()},ready:function(){let i=this;w&&w.classList.contains("transparent--true")&&Array.from(document.querySelector("#main-content").querySelectorAll(":scope > .shopify-section")).indexOf(f)==0&&e.classList.contains("section-spacing--disable-top")&&e.classList.add("slideshow--top"),p&&e.animateSlides(0,e,_),u&&S&&p&&e.setupAutoplayProgress(e),document.fonts.ready.then(function(){i.resize()});let t=i.cells[0].element.querySelector(".slideshow__slide-video-bg");t&&(t.querySelector("iframe")?t.querySelector("iframe").onload=function(){e.videoPlay(t)}:t.querySelector("video")&&(t.querySelector("video").onloadstart=function(){e.videoPlay(t)}))},change:function(i){let t=this,c=fizzyUIUtils.modulo(t.selectedIndex-1,t.slides.length);p&&(e.animateReverse(c,e,_),e.animateSlides(i,e,_));let d=getComputedStyle(this.selectedElement).getPropertyValue("--color-text");S&&p&&S.style.setProperty("--color-body",d);let m=e.querySelector(".flickity-page-dots");m&&m.style.setProperty("--color-body",d),q&&(q.querySelector(".flickity-custom-navigation--current").innerHTML=this.selectedIndex+1),u&&t.player.state!=="paused"&&(t.stopPlayer(),t.playPlayer()),u&&S&&p&&(e.autoPlayProgressTL.progress(0),t.player.state!=="paused"&&e.autoPlayProgressTL.play());let x=t.cells[c].element.querySelector(".slideshow__slide-video-bg");x&&e.videoPause(x);let y=t.cells[i].element.querySelector(".slideshow__slide-video-bg");y&&(y.querySelector("iframe")?y.querySelector("iframe").classList.contains("lazyload")?(y.querySelector("iframe").addEventListener("lazybeforeunveil",e.videoPlay(y)),lazySizes.loader.checkElems()):e.videoPlay(y):y.querySelector("video")&&e.videoPlay(y))}},(e.classList.contains("desktop-height-image")||e.classList.contains("mobile-height-image"))&&(l.adaptiveHeight=!0)),e.classList.contains("media-with-tabs--media")&&(l.draggable=!1,l.on={staticClick:function(){this.unpausePlayer()},ready:function(){let t=this.cells[0].element.querySelector(".media-with-tabs--media--video");t&&(t.querySelector("video").onloadstart=function(){e.videoPlay(t)})},change:function(i){let t=this,c=fizzyUIUtils.modulo(t.selectedIndex-1,t.slides.length),d=t.cells[c].element.querySelector(".media-with-tabs--media--video");d&&e.videoPause(d);let m=t.cells[i].element.querySelector(".media-with-tabs--media--video");m&&e.videoPlay(m)}}),e.classList.contains("announcement-bar--use-colors-true")&&(l.on.change=function(i){const t=e.closest(".announcement-bar");let c=this.selectedElement.dataset.color,d=this.selectedElement.dataset.bg;t.style.setProperty("--color-announcement-bar-bg",d),t.style.setProperty("--color-announcement-bar-text",c)}),e.classList.contains("products")&&(l.wrapAround=!1,l.on.ready=function(){var i=this;h&&window.addEventListener("resize.center_arrows",function(){e.centerArrows(i,e,n,h)}),window.dispatchEvent(new Event("resize.center_arrows"))}),L&&(l.wrapAround=!1,l.on.scroll=function(i){i=Math.max(0,Math.min(1,i)),L.style.width=i*100+"%"}),v&&(l.on={ready:function(){let i=this,t=v.querySelectorAll("li");t.forEach((c,d)=>{c.addEventListener("click",m=>{i.select(d)})}),t[this.selectedIndex].classList.add("is-selected")},change:function(i){let t=v.querySelectorAll("li");t.forEach((c,d)=>{c.classList.remove("is-selected")}),t[this.selectedIndex].classList.add("is-selected")}}),e.classList.contains("customer-reviews--carousel")&&(l.on.ready=function(){var i=this;h&&window.addEventListener("resize.center_arrows",function(){e.centerArrows(i,e,n,h)}),window.dispatchEvent(new Event("resize.center_arrows"))});const g=new Flickity(e,l);g.selectedIndex,e.dataset.initiated=!0,n&&(n.addEventListener("click",i=>{g.previous()}),n.addEventListener("keyup",i=>{g.previous()}),h.addEventListener("click",i=>{g.next()}),h.addEventListener("keyup",i=>{g.next()})),Shopify.designMode&&e.addEventListener("shopify:block:select",i=>{let t=s.indexOf(i.target);g.select(t)})}setupAutoplayProgress(e){e.autoPlayProgressTL=gsap.timeline({inherit:!1}),e.autoPlayProgressTL.fromTo(e.querySelector(".thb-slideshow-progress--svg circle"),{drawSVG:0},{duration:parseInt(e.dataset.autoplay,10)/1e3,ease:"none",drawSVG:!0}),e.addEventListener("mouseenter",function(){e.autoPlayProgressTL.pause().progress(0)}),e.addEventListener("mouseleave",function(){e.autoPlayProgressTL.play()})}videoPause(e){setTimeout(()=>{e.querySelector("video").pause()},10)}videoPlay(e){setTimeout(()=>{e.querySelector("video").play()},10)}prepareAnimations(e,f){e.dataset.animationsReady||(new SplitText(e.querySelectorAll(".slideshow__slide-heading, p:not(.subheading)"),{type:"lines",linesClass:"line-child"}),new SplitText(e.querySelectorAll(".slideshow__slide-heading, p:not(.subheading)"),{type:"lines",linesClass:"line-parent"}),e.querySelectorAll(".slideshow__slide").forEach((s,u)=>{let o=gsap.timeline({paused:!0}),r=0;if(f[u]=o,e.dataset.transition=="zoom"&&o.to(s.querySelectorAll(".slideshow__slide-bg, .slideshow__slide-video-bg"),{duration:1.5,scale:1},"start"),s.querySelector(".inline-badge")&&(o.fromTo(s.querySelector(".inline-badge"),{opacity:0},{duration:.5,opacity:1},0),r+=.2),s.querySelector(".subheading")&&(o.fromTo(s.querySelector(".subheading"),{opacity:0},{duration:.5,opacity:1},0),r+=.5),s.querySelector(".slideshow__slide-heading")){let a=1+(s.querySelectorAll(".slideshow__slide-heading .line-child").length-1)*.1;o.set(s.querySelectorAll(".slideshow__slide-heading"),{opacity:1},0).from(s.querySelectorAll(".slideshow__slide-heading .line-child"),{duration:a,yPercent:120,stagger:.1,rotation:"3deg"},0),r+=a}if(s.querySelector("p.split-text")){let a=1+(s.querySelectorAll("p.split-text .line-child").length-1)*.05;o.set(s.querySelectorAll("p.split-text"),{opacity:1},0).from(s.querySelectorAll("p:not(.subheading) .line-child"),{duration:a,yPercent:"120",stagger:.1,rotation:"3deg"},0),r+=a}s.querySelectorAll(".button, .text-button")&&o.fromTo(s.querySelectorAll(".button, .text-button"),{y:"100%"},{duration:.5,y:"0%",stagger:.1},r*.2),s.dataset.timeline=o}),e.dataset.animationsReady=!0)}animateSlides(e,f,s){Flickity.data(f).selectedElement,document.fonts.ready.then(function(){s[e].restart()})}animateReverse(e,f,s){s[e].reverse()}centerArrows(e,f,s,u){let o=e.cells[0],r=0,a=0;if(o.element.querySelector(".product-featured-image")?a=o.element.querySelector(".product-featured-image").clientHeight:o.element.querySelector(".gallery--item")&&(a=e.cells[1].element.querySelector(".product-featured-image").clientHeight),f.classList.contains("customer-reviews--carousel")&&o.element.querySelector(".customer-reviews--product")&&(a=e.cells[1].element.querySelector(".customer-reviews--product").clientHeight),a>0&&(e.cells.forEach((n,h)=>{n.size.height>r&&(r=n.size.height)}),r>a)){let n=(r-a)/-2;s.style.transform="translateY("+n+"px)",u.style.transform="translateY("+n+"px)"}}}customElements.define("slide-show",P)}
//# sourceMappingURL=components--slideshow.js.map
