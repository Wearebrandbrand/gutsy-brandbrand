{"version":3,"file":"sections--collection-tabs.js","sources":["../theming/js/sections/collection-tabs.js"],"sourcesContent":["/**\n *  @class\n *  @function CollectionTabs\n */\n\nif (!customElements.get('collection-tabs')) {\n  class CollectionTabs extends HTMLElement {\n\n    constructor() {\n      super();\n    }\n\n    connectedCallback() {\n      setTimeout(() => {\n        this.target = this.dataset.target;\n        this.buttons = Array.from(this.querySelectorAll('button'));\n        this.buttons.forEach((button, i) => {\n          button.addEventListener('click', (event) => {\n            let handle = button.dataset.collection;\n            [].forEach.call(this.buttons, function (el) {\n              el.classList.remove('active');\n            });\n\n            button.classList.add('active');\n\n            if (handle) {\n              this.toggleCollection(handle);\n            }\n\n            event.preventDefault();\n          });\n        });\n      }, 20);\n      if (Shopify.designMode) {\n        this.addEventListener('shopify:block:select', (event) => {\n          let index = this.buttons.indexOf(event.target);\n\n          this.buttons[index].dispatchEvent(new Event('click'));\n        });\n      }\n    }\n\n    toggleCollection(handle) {\n      let slider = document.getElementById(this.target),\n        products = slider.querySelectorAll(`.columns:not([data-collection*=\"${handle}\"])`),\n        active_products = slider.querySelectorAll(`[data-collection*=\"${handle}\"]`),\n        flkty = Flickity.data(slider);\n      [].forEach.call(products, function (el) {\n        el.classList.remove('carousel__slide');\n        slider.append(el);\n      });\n      [].forEach.call(active_products, function (el) {\n        if (el.dataset.collection === handle) {\n          el.classList.add('carousel__slide');\n        } else {\n          el.classList.remove('carousel__slide');\n          slider.append(el);\n        }\n      });\n      flkty.insert(active_products);\n      flkty.reloadCells();\n      flkty.select(0, 0, 1);\n    }\n  }\n\n  customElements.define('collection-tabs', CollectionTabs);\n}\n"],"names":["CollectionTabs","button","i","event","handle","el","index","slider","products","active_products","flkty"],"mappings":"AAKA,GAAI,CAAC,eAAe,IAAI,iBAAiB,EAAG,CAC1C,MAAMA,UAAuB,WAAY,CAEvC,aAAc,CACZ,MAAO,CACb,CAEI,mBAAoB,CAClB,WAAW,IAAM,CACf,KAAK,OAAS,KAAK,QAAQ,OAC3B,KAAK,QAAU,MAAM,KAAK,KAAK,iBAAiB,QAAQ,CAAC,EACzD,KAAK,QAAQ,QAAQ,CAACC,EAAQC,IAAM,CAClCD,EAAO,iBAAiB,QAAUE,GAAU,CAC1C,IAAIC,EAASH,EAAO,QAAQ,WAC5B,CAAE,EAAC,QAAQ,KAAK,KAAK,QAAS,SAAUI,EAAI,CAC1CA,EAAG,UAAU,OAAO,QAAQ,CAC1C,CAAa,EAEDJ,EAAO,UAAU,IAAI,QAAQ,EAEzBG,GACF,KAAK,iBAAiBA,CAAM,EAG9BD,EAAM,eAAgB,CAClC,CAAW,CACX,CAAS,CACF,EAAE,EAAE,EACD,QAAQ,YACV,KAAK,iBAAiB,uBAAyBA,GAAU,CACvD,IAAIG,EAAQ,KAAK,QAAQ,QAAQH,EAAM,MAAM,EAE7C,KAAK,QAAQG,CAAK,EAAE,cAAc,IAAI,MAAM,OAAO,CAAC,CAC9D,CAAS,CAET,CAEI,iBAAiBF,EAAQ,CACvB,IAAIG,EAAS,SAAS,eAAe,KAAK,MAAM,EAC9CC,EAAWD,EAAO,iBAAiB,mCAAmCH,CAAM,KAAK,EACjFK,EAAkBF,EAAO,iBAAiB,sBAAsBH,CAAM,IAAI,EAC1EM,EAAQ,SAAS,KAAKH,CAAM,EAC9B,CAAA,EAAG,QAAQ,KAAKC,EAAU,SAAUH,EAAI,CACtCA,EAAG,UAAU,OAAO,iBAAiB,EACrCE,EAAO,OAAOF,CAAE,CACxB,CAAO,EACD,CAAA,EAAG,QAAQ,KAAKI,EAAiB,SAAUJ,EAAI,CACzCA,EAAG,QAAQ,aAAeD,EAC5BC,EAAG,UAAU,IAAI,iBAAiB,GAElCA,EAAG,UAAU,OAAO,iBAAiB,EACrCE,EAAO,OAAOF,CAAE,EAE1B,CAAO,EACDK,EAAM,OAAOD,CAAe,EAC5BC,EAAM,YAAa,EACnBA,EAAM,OAAO,EAAG,EAAG,CAAC,CAC1B,CACA,CAEE,eAAe,OAAO,kBAAmBV,CAAc,CACzD"}