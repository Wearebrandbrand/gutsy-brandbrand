if(!customElements.get("modal-dialog")){class t extends HTMLElement{constructor(){super(),this.age_verification=this.classList.contains("age-verification-modal"),this.id=this.getAttribute("id"),this.delay=parseInt(this.dataset.delay,10)*1e3,this.popup=this.dataset.popup,this.section_id=this.dataset.sectionId,this.disabled=this.getAttribute("disabled")!=null,this.button=this.querySelector('[id^="ModalClose-"]'),this.button.addEventListener("click",this.hide.bind(this)),this.disabled||(this.addEventListener("keyup",e=>{e.code.toUpperCase()==="ESCAPE"&&this.hide()}),this.addEventListener("click",e=>{e.target.nodeName==="MODAL-DIALOG"&&this.hide()})),this.delay&&this.delay>0&&(this.getCookie()||setTimeout(()=>{this.show(),this.button.addEventListener("click",this.setCookie.bind(this))},this.delay)),this.age_verification&&(this.getCookie()||this.show(),this.button.addEventListener("click",this.setCookie.bind(this))),Shopify.designMode&&(this.moved=!0,document.addEventListener("shopify:section:select",e=>{e.detail.sectionId===this.section_id&&this.show()}),document.addEventListener("shopify:section:deselect",e=>{e.detail.sectionId===this.section_id&&this.hide()}))}connectedCallback(){this.moved||(this.moved=!0,document.body.appendChild(this))}show(e){this.openedBy=e,document.body.classList.add("overflow-hidden"),this.setAttribute("open",""),setTimeout(()=>{this.querySelector('[role="dialog"]').focus()},100)}hide(){document.body.classList.remove("overflow-hidden"),this.removeAttribute("open"),this.querySelectorAll(".js-youtube").forEach(e=>{e.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}),this.querySelectorAll(".js-vimeo").forEach(e=>{e.contentWindow.postMessage('{"method":"pause"}',"*")}),this.querySelectorAll("video").forEach(e=>e.pause()),this.popup}getCookie(){return window.localStorage.getItem(this.id)}setCookie(){window.localStorage.setItem(this.id,JSON.stringify(new Date))}}customElements.define("modal-dialog",t)}if(!customElements.get("modal-opener")){class t extends HTMLElement{constructor(){super();const e=this.querySelector("button");e&&e.addEventListener("click",()=>{const i=document.querySelector(this.getAttribute("data-modal"));i&&i.show(e)})}}customElements.define("modal-opener",t)}
//# sourceMappingURL=components--modal-dialog.js.map
