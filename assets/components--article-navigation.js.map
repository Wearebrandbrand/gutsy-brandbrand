{"version":3,"file":"components--article-navigation.js","sources":["../theming/js/components/article-navigation.js"],"sourcesContent":["/**\n *  @class\n *  @function ArticleNavigation\n */\nif (!customElements.get('article-navigation')) {\n  class ArticleNavigation extends HTMLElement {\n    constructor() {\n      super();\n    }\n\n    connectedCallback() {\n      window.setTimeout(() => {\n        this.progress_bar = document.getElementById('progress-bar');\n        this.article_element = document.getElementById('main-article');\n        this.title_element = document.getElementById('post-title-wrapper');\n\n        // append a scroll event listener to the window object\n        window.addEventListener('scroll', this.setStickyClass.bind(this));\n        window.addEventListener('scroll', this.stretch.bind(this));\n        window.dispatchEvent(new Event('scroll'));\n      });\n    }\n\n    stretch() {\n      const pixelScrolled = window.scrollY - (this.article_element.getBoundingClientRect().top + window.scrollY) - (this.title_element.getBoundingClientRect().top + window.scrollY) + parseInt(getComputedStyle(document.documentElement).getPropertyValue('--header-height'), 10);\n\n      // convert pixels to percentage\n      const pixelsToPercentage = Math.max(pixelScrolled / this.article_element.offsetHeight, 0);\n\n      // set the width of the fluid element.\n      this.progress_bar.style.transform = 'scale(' + pixelsToPercentage + ', 1)';\n    }\n\n    setStickyClass() {\n      let title_offset = this.title_element.getBoundingClientRect().top + window.scrollY + this.title_element.offsetHeight,\n        article_offset = this.article_element.getBoundingClientRect().top + window.scrollY + this.article_element.offsetHeight;\n      if (window.scrollY > title_offset) {\n        this.classList.add('navigation--sticky');\n      } else {\n        this.classList.remove('navigation--sticky');\n      }\n      if (window.scrollY > article_offset) {\n        this.classList.remove('navigation--sticky');\n      }\n    }\n  }\n\n  customElements.define('article-navigation', ArticleNavigation);\n}"],"names":["ArticleNavigation","pixelScrolled","pixelsToPercentage","title_offset","article_offset"],"mappings":"AAIA,GAAI,CAAC,eAAe,IAAI,oBAAoB,EAAG,CAC7C,MAAMA,UAA0B,WAAY,CAC1C,aAAc,CACZ,MAAO,CACb,CAEI,mBAAoB,CAClB,OAAO,WAAW,IAAM,CACtB,KAAK,aAAe,SAAS,eAAe,cAAc,EAC1D,KAAK,gBAAkB,SAAS,eAAe,cAAc,EAC7D,KAAK,cAAgB,SAAS,eAAe,oBAAoB,EAGjE,OAAO,iBAAiB,SAAU,KAAK,eAAe,KAAK,IAAI,CAAC,EAChE,OAAO,iBAAiB,SAAU,KAAK,QAAQ,KAAK,IAAI,CAAC,EACzD,OAAO,cAAc,IAAI,MAAM,QAAQ,CAAC,CAChD,CAAO,CACP,CAEI,SAAU,CACR,MAAMC,EAAgB,OAAO,SAAW,KAAK,gBAAgB,sBAAuB,EAAC,IAAM,OAAO,UAAY,KAAK,cAAc,sBAAuB,EAAC,IAAM,OAAO,SAAW,SAAS,iBAAiB,SAAS,eAAe,EAAE,iBAAiB,iBAAiB,EAAG,EAAE,EAGtQC,EAAqB,KAAK,IAAID,EAAgB,KAAK,gBAAgB,aAAc,CAAC,EAGxF,KAAK,aAAa,MAAM,UAAY,SAAWC,EAAqB,MAC1E,CAEI,gBAAiB,CACf,IAAIC,EAAe,KAAK,cAAc,sBAAuB,EAAC,IAAM,OAAO,QAAU,KAAK,cAAc,aACtGC,EAAiB,KAAK,gBAAgB,sBAAuB,EAAC,IAAM,OAAO,QAAU,KAAK,gBAAgB,aACxG,OAAO,QAAUD,EACnB,KAAK,UAAU,IAAI,oBAAoB,EAEvC,KAAK,UAAU,OAAO,oBAAoB,EAExC,OAAO,QAAUC,GACnB,KAAK,UAAU,OAAO,oBAAoB,CAElD,CACA,CAEE,eAAe,OAAO,qBAAsBJ,CAAiB,CAC/D"}