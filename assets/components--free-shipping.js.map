{"version":3,"file":"components--free-shipping.js","sources":["../theming/js/components/free-shipping.js"],"sourcesContent":["/**\n *  @class\n *  @function FreeShipping\n */\n\nif (!customElements.get('free-shipping')) {\n  class FreeShipping extends HTMLElement {\n    constructor() {\n      super();\n    }\n\n    connectedCallback() {\n\n      let amount_text = this.querySelector('.free-shipping--text span');\n      let total = parseInt(this.dataset.cartTotal, 10);\n      let minimum = Math.round(parseInt(this.dataset.minimum, 10) * (Shopify.currency.rate || 1));\n      let percentage = 1;\n      this.remainingText = this.querySelector('.free-shipping--text-remaining');\n      this.fullText = this.querySelector('.free-shipping--text-full');\n      if (total < minimum) {\n        percentage = total / minimum;\n\n        if (amount_text) {\n          let remaining = minimum - total,\n            format = window.theme.settings.money_with_currency_format || \"${{amount}}\";\n          amount_text.innerHTML = formatMoney(remaining, format);\n        }\n        this.remainingText.style.display = 'block';\n        this.fullText.style.display = 'none';\n      } else {\n        this.remainingText.style.display = 'none';\n        this.fullText.style.display = 'block';\n      }\n\n      this.style.setProperty('--percentage', percentage);\n\n    }\n  }\n\n  customElements.define('free-shipping', FreeShipping);\n}"],"names":["FreeShipping","amount_text","total","minimum","percentage","remaining","format"],"mappings":"AAKA,GAAI,CAAC,eAAe,IAAI,eAAe,EAAG,CACxC,MAAMA,UAAqB,WAAY,CACrC,aAAc,CACZ,MAAO,CACb,CAEI,mBAAoB,CAElB,IAAIC,EAAc,KAAK,cAAc,2BAA2B,EAC5DC,EAAQ,SAAS,KAAK,QAAQ,UAAW,EAAE,EAC3CC,EAAU,KAAK,MAAM,SAAS,KAAK,QAAQ,QAAS,EAAE,GAAK,QAAQ,SAAS,MAAQ,EAAE,EACtFC,EAAa,EAGjB,GAFA,KAAK,cAAgB,KAAK,cAAc,gCAAgC,EACxE,KAAK,SAAW,KAAK,cAAc,2BAA2B,EAC1DF,EAAQC,EAAS,CAGnB,GAFAC,EAAaF,EAAQC,EAEjBF,EAAa,CACf,IAAII,EAAYF,EAAUD,EACxBI,EAAS,OAAO,MAAM,SAAS,4BAA8B,cAC/DL,EAAY,UAAY,YAAYI,EAAWC,CAAM,CAC/D,CACQ,KAAK,cAAc,MAAM,QAAU,QACnC,KAAK,SAAS,MAAM,QAAU,MACtC,MACQ,KAAK,cAAc,MAAM,QAAU,OACnC,KAAK,SAAS,MAAM,QAAU,QAGhC,KAAK,MAAM,YAAY,eAAgBF,CAAU,CAEvD,CACA,CAEE,eAAe,OAAO,gBAAiBJ,CAAY,CACrD"}